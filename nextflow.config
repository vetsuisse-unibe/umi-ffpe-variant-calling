manifest {
    name = 'Dog WGS Pipeline'
    version = '1.0.0'
    description = 'UMI-based FFPE Variant Calling Pipeline'
    mainScript = 'workflows/main.nf'
}

// Maximum resource parameters
params {
    max_cpus = 16
    max_memory = '128.GB'
    max_time = '24.h'
}

// Process configuration
process {
    executor = 'slurm'
    queue = 'pibu_el8'
    clusterOptions = '--account=p525'
    
    withLabel: process_medium {
        cpus = 4
        memory = '16 GB'
        time = '6h'
    }
}

// Include the configuration profiles
includeConfig 'conf/profiles.config'
includeConfig 'conf/base.config'
includeConfig 'conf/modules.config'

// Report configuration
report {
    enabled = true
    file = 'pipeline_report.html'
    overwrite = true
}

timeline {
    enabled = true
    file = 'timeline_report.html'
    overwrite = true
}

dag {
    enabled = true
    file = 'pipeline_dag.html'
    overwrite = true
}

trace {
    enabled = true
    file = 'pipeline_trace.txt'
    overwrite = true
}

// Singularity configuration
singularity {
    enabled = true
    autoMounts = true
}